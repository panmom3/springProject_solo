<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.springGroupS09.dao.MemberDAO">

	<select id="getMemberIdCheck" resultType="com.spring.springGroupS09.vo.MemberVO">
		select * from member where mid = #{mid};
	</select>
	
	<select id="getMemberNickCheck" resultType="com.spring.springGroupS09.vo.MemberVO">
		select * from member where nickName = #{nickName};
	</select>
	
	<insert id="setMemberJoin">
		insert into member values 
		(default,#{vo.mid},#{vo.pwd},#{vo.nickName},#{vo.name},#{vo.birthday},#{vo.email},#{vo.tel},#{vo.address},#{vo.content},#{vo.photo},default,default,default,default,default,#{vo.hopeTour},default,default);
	</insert>
	
	<update id="setMemberTodayCntClear">
		update member set todayCnt = 0 where mid = #{mid};
	</update>
	
	<update id="setMemberInforUpdate">
		update member set visitCnt=visitCnt+1, lastDate=now(), todayCnt=todayCnt+1, point=point+#{point} where mid=#{mid}; 
	</update>
	
	<update id="setMemberPwdChange">
	  update member set pwd = #{pwd} where mid = #{mid};
	</update>
	
	<update id="setMemberUpdateOk">
		update member set nickName=#{vo.nickName},name=#{vo.name},birthday=#{vo.birthday},email=#{vo.email},tel=#{vo.tel},address=#{vo.address},content=#{vo.content},photo=#{vo.photo},hopeTour=#{hopeTour}
		where mid = #{vo.mid};
	</update>
	
	
</mapper>